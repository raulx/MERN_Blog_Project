import{u as h,a as y,b as j,r as l,c as b,s as C,j as e,d as v}from"./index-bb1fa0f4.js";import{C as w,a as N}from"./cardSkeleton-34bda6dd.js";import{F as O,a as F,b as k}from"./index.esm-d80a0af3.js";import"./theme-options-4949be72.js";import"./functions-8c014a9e.js";import"./avatar-6ff15a18.js";import"./iconBase-bb30e71b.js";function J(){const{blogs:x,prevData:p,currentPage:m,pageSize:u}=h(t=>t.blogs),{data:a,isFetching:g}=y({page:m,pageSize:u}),i=j(),o=l.useRef(),[r,c]=l.useState({isOpen:!1,currentCategory:"all"});l.useEffect(()=>{const t=s=>{r.isOpen&&!o.current.contains(s.target)&&c(n=>({...n,isOpen:!1}))};return document.addEventListener("click",t,!0),()=>{document.removeEventListener("click",t,!0)}},[r.isOpen]),l.useEffect(()=>{a&&JSON.stringify(p)!==JSON.stringify(a.data)&&(i(b(a.data)),i(C(a.data)))},[a,i,p]);let d=x;r.currentCategory!="all"&&(d=d.filter(t=>t.category===r.currentCategory));const f=t=>{const s=t.target.innerText.toLowerCase();c(n=>({...n,currentCategory:s,isOpen:!n}))};return e.jsxs(e.Fragment,{children:[r.isOpen?e.jsx("div",{ref:o,className:"border shadow-xl p-2 bg-slate-100 rounded-lg flex flex-col gap-2 absolute z-10 md:right-20 right-4 w-80 md:top-16 top-28 md:w-96",children:v.map(t=>e.jsx("p",{className:`text-xl  w-full h-full cursor-pointer py-2 capitalize px-4 rounded-xl  ${t.category===r.currentCategory?"bg-slate-600 text-white":"hover:bg-slate-500 hover:text-white"}`,onClick:s=>f(s),children:t.category},t.id))}):null,e.jsxs("div",{className:"flex justify-between items-center mt-6 md:mt-4",children:[e.jsx("h1",{className:"text-2xl text-gray-400 font-extrabold uppercase",children:"Results"}),e.jsxs("div",{className:"flex md:gap-6 gap-0 items-center cursor-pointer mr-10 ",onClick:()=>{c(t=>({...t,isOpen:!t.isOpen}))},children:[e.jsxs("div",{className:"flex gap-4 items-center p-2",children:[e.jsx("p",{className:"text-2xl hidden md:block text-gray-400 font-extrabold uppercase",children:"Sort By"}),e.jsx(O,{className:"text-2xl"})]}),e.jsxs("div",{ref:o,className:"h-full border-2 md:w-72 w-60 rounded py-2 px-4 md:text-lg text-base uppercase flex items-center justify-between",children:[e.jsx("p",{children:r.currentCategory}),e.jsx("div",{children:r.isOpen?e.jsx(F,{}):e.jsx(k,{})})]})]})]}),e.jsxs("div",{className:"flex flex-wrap w-full justify-evenly gap-4  gap-y-16 mt-4",children:[d.map((t,s)=>e.jsx(w,{cardData:t},s)),r.currentCategory==="all"?e.jsx(e.Fragment,{children:g?e.jsx(N,{times:u}):null}):null]})]})}export{J as default};
