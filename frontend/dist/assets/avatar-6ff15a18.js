import{r as d}from"./index-bb1fa0f4.js";import{t as C,$ as N,e as S,_ as x,b as R,h as L,c as _}from"./theme-options-4949be72.js";const I={type:"enum",values:C.accentColor.values,default:void 0},k={type:"boolean",default:void 0};function $(e,a="",t){var n,o,c,u;const i=[];if(typeof e=="object"){for(const r of Object.keys(e))if(r in e){const s=(n=e[r])===null||n===void 0?void 0:n.toString(),f=s==null?void 0:s.startsWith("-"),l=a===""?"":"-",m=f?`-${a}`:a,g=f?s==null?void 0:s.substring(1):s;if(g===void 0)continue;const h=(o=t==null?void 0:t[g])!==null&&o!==void 0?o:g,y=r==="initial"?`${m}${l}${h}`:`${r}:${m}${l}${h}`;i.push(y)}}if(typeof e=="string"){const r=e.startsWith("-"),s=a===""?"":"-",f=r?`-${a}`:a,l=r?e.substring(1):e,m=(c=t==null?void 0:t[l])!==null&&c!==void 0?c:l;i.push(`${f}${s}${m}`)}if(typeof e=="boolean"){const r=a===""?"":"-",s=e.toString(),f=(u=t==null?void 0:t[s])!==null&&u!==void 0?u:s;i.push(`${a}${r}${f}`)}return i.join(" ")}const b=["auto","0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],v={m:{type:"enum",values:b,default:void 0,responsive:!0},mx:{type:"enum",values:b,default:void 0,responsive:!0},my:{type:"enum",values:b,default:void 0,responsive:!0},mt:{type:"enum",values:b,default:void 0,responsive:!0},mr:{type:"enum",values:b,default:void 0,responsive:!0},mb:{type:"enum",values:b,default:void 0,responsive:!0},ml:{type:"enum",values:b,default:void 0,responsive:!0}};function P(e){const{m:a=v.m.default,mx:t=v.mx.default,my:n=v.my.default,mt:o=v.mt.default,mr:c=v.mr.default,mb:u=v.mb.default,ml:i=v.ml.default,...r}=e;return{m:a,mx:t,my:n,mt:o,mr:c,mb:u,ml:i,rest:r}}function z(e){return[$(e.m,"rt-r-m"),$(e.mx,"rt-r-mx"),$(e.my,"rt-r-my"),$(e.mt,"rt-r-mt"),$(e.mr,"rt-r-mr"),$(e.mb,"rt-r-mb"),$(e.ml,"rt-r-ml")].filter(Boolean).join(" ")}const V={type:"enum",values:C.radius.values,default:void 0},w="Avatar",[j,Y]=N(w),[F,E]=j(w),B=d.forwardRef((e,a)=>{const{__scopeAvatar:t,...n}=e,[o,c]=d.useState("idle");return d.createElement(F,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:c},d.createElement(S.span,x({},n,{ref:a})))}),D="AvatarImage",T=d.forwardRef((e,a)=>{const{__scopeAvatar:t,src:n,onLoadingStatusChange:o=()=>{},...c}=e,u=E(D,t),i=q(n),r=R(s=>{o(s),u.onImageLoadingStatusChange(s)});return L(()=>{i!=="idle"&&r(i)},[i,r]),i==="loaded"?d.createElement(S.img,x({},c,{ref:a,src:n})):null}),M="AvatarFallback",W=d.forwardRef((e,a)=>{const{__scopeAvatar:t,delayMs:n,...o}=e,c=E(M,t),[u,i]=d.useState(n===void 0);return d.useEffect(()=>{if(n!==void 0){const r=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(r)}},[n]),u&&c.imageLoadingStatus!=="loaded"?d.createElement(S.span,x({},o,{ref:a})):null});function q(e){const[a,t]=d.useState("idle");return L(()=>{if(!e){t("error");return}let n=!0;const o=new window.Image,c=u=>()=>{n&&t(u)};return t("loading"),o.onload=c("loaded"),o.onerror=c("error"),o.src=e,()=>{n=!1}},[e]),a}const G=B,K=T,O=W,H=["1","2","3","4","5","6","7","8","9"],J=["solid","soft"],p={size:{type:"enum",values:H,default:"3",responsive:!0},variant:{type:"enum",values:J,default:"soft"},color:{...I,default:void 0},highContrast:k,radius:V,fallback:{type:"ReactNode",default:void 0,required:!0}},Q=d.forwardRef((e,a)=>{const{rest:t,...n}=P(e),{className:o,style:c,size:u=p.size.default,variant:i=p.variant.default,color:r=p.color.default,highContrast:s=p.highContrast.default,radius:f=p.radius.default,fallback:l,...m}=t,[g,h]=d.useState("idle");return d.createElement(G,{"data-accent-color":r,"data-radius":f,className:_("rt-AvatarRoot",o,$(u,"rt-r-size"),`rt-variant-${i}`,{"rt-high-contrast":s},z(n)),style:c},g==="idle"||g==="loading"?d.createElement("span",{className:"rt-AvatarFallback"}):null,g==="error"?d.createElement(O,{className:_("rt-AvatarFallback",{"rt-one-letter":typeof l=="string"&&l.length===1,"rt-two-letters":typeof l=="string"&&l.length===2}),delayMs:0},l):null,d.createElement(K,{ref:a,className:"rt-AvatarImage",...m,onLoadingStatusChange:y=>{var A;(A=m.onLoadingStatusChange)===null||A===void 0||A.call(m,y),h(y)}}))});Q.displayName="Avatar";export{Q as A};
