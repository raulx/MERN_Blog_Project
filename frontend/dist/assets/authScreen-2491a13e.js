import{r as c,o as v,p as S,b as L,f as C,j as e,L as E,q as m}from"./index-bb1fa0f4.js";import{I,_ as F}from"./index-b33c1328.js";import{h as k}from"./index.esm-d80a0af3.js";import"./iconBase-bb30e71b.js";function A(){const[a,d]=c.useState({login:!0,register:!1}),[o,p]=c.useState({email:"",password:""}),[h,f]=v(),[w,j]=S(),[l,b]=c.useState({name:"",email:"",password:""}),u=L(),x=C(),y=async()=>{const t={email:o.email,password:o.password};try{const s=await h(t),r=s.data.id;if(r)u(m(r)),x("/content");else throw new Error(s.data.message)}catch(s){F.error(`${s.message}`)}},N=async t=>{t.preventDefault();const s={name:l.name,email:l.email,password:l.password};try{const r=await w(s);u(m(r.data.id)),x("/content")}catch(r){console.error(r)}},g=(t,s,r)=>({...t,[s]:r}),n=(t,s)=>{const r=t.target.value;a.login?p(i=>g(i,s,r)):a.register&&b(i=>g(i,s,r))};return e.jsx(e.Fragment,{children:f.isLoading||j.isLoading?e.jsx("div",{className:"h-screen w-full flex justify-center items-center",children:e.jsx(k,{className:"animate-spin text-5xl"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex justify-center items-center h-screen w-screen",children:[e.jsx(I,{}),e.jsx("div",{className:"auth_box w-1/4  bg-white shadow-2xl rounded-2xl px-6 py-4 ",children:e.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[e.jsxs("div",{className:`h-full custom_width flex transition-all duration-200 text-center ${a.login?"translate-x-0":"-translate-x-2/4"}`,children:[e.jsxs("div",{className:"login w-full h-full ",children:[e.jsx("h1",{className:"capitalize font-extrabold text-4xl py-4",children:"Login Form"}),e.jsxs("form",{className:"mt-28 flex flex-col gap-4 w-full",onSubmit:t=>{y()},children:[e.jsx("input",{type:"email",placeholder:"Email Address",className:"p-4  border rounded-xl focus:outline-gray-400",autoFocus:!0,required:!0,value:o.email,onChange:t=>{n(t,"email")}}),e.jsx("input",{type:"password",placeholder:"Password",className:"p-4  border rounded-xl focus:outline-gray-400",value:o.password,required:!0,onChange:t=>{n(t,"password")}}),e.jsx(E,{to:"/recoverAccount",className:"text-start text-blue-900",children:"Forgot password ?"}),e.jsx("button",{className:"bg-gradient-to-r from-green-700 to-green-500 text-white p-4  rounded-2xl text-xl",type:"submit",children:"Login"}),e.jsxs("p",{children:["Not a member ?",e.jsx("span",{className:"text-blue-500 cursor-pointer",onClick:()=>{d({login:!1,register:!0})},children:"Sign up now"})]})]})]}),e.jsxs("div",{className:"register w-full h-full",children:[e.jsx("h1",{className:"capitalize font-extrabold text-4xl py-4",children:"Register Form"}),e.jsxs("form",{className:"mt-24 flex flex-col gap-4 w-full",onSubmit:N,children:[e.jsx("input",{type:"text",placeholder:"Enter Username",className:" p-4 border rounded-xl focus:outline-gray-400",value:l.name,required:!0,onChange:t=>{n(t,"name")}}),e.jsx("input",{type:"email",placeholder:"Enter Email",className:"p-4  border rounded-xl focus:outline-gray-400",value:l.email,required:!0,onChange:t=>{n(t,"email")}}),e.jsx("input",{type:"password",placeholder:"Enter Password",className:"p-4 border rounded-xl focus:outline-gray-400",value:l.password,required:!0,onChange:t=>{n(t,"password")}}),e.jsx("button",{className:"bg-gradient-to-r  from-green-700 to-green-500 text-white p-4 rounded-2xl text-xl",children:"Sign Up"})]})]})]}),e.jsxs("div",{className:"absolute w-full top-20 left-0 justify-between gap-0 flex border-2 rounded-2xl",children:[e.jsx("button",{className:`z-10 px-8 py-4 text-2xl w-full font-bold ${a.login&&"text-white"}`,onClick:()=>{d({login:!0,register:!1})},children:"Login"}),e.jsx("button",{className:`z-10 px-8 py-4 text-2xl w-full font-bold ${a.register&&"text-white"}`,onClick:()=>{d({login:!1,register:!0})},children:"Register"}),e.jsx("span",{className:`w-1/2 h-full bg-gradient-to-r from-green-700 to-green-500 rounded-2xl absolute transition-all duration-200 ${a.login?"left-0 top-0":"left-2/4 top-0"}`})]})]})})]})})})}export{A as default};
